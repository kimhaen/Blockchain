Block Chain
------

#### 1.1 Distributed Ledger (분산원장)
- 블록체인을 탈중앙화 된 시스템으로 만드는 핵심기술
- 블록체인에 참여하는 모든 사람이 동일한 원장을 소유하고 관리하는 기술
- 하이퍼레저 패브릭에서는 **채널(Channel)** 개념을 도입하여 프라이버시 문제를 해결
- 모든 정보가 해시화 되어, Append-only 방식으로 기록되므로 **불가변성(immuntability)**의 특성

#### 1.2 Smart Contract
- 블록체인 참여자는 스마트 컨트랙트를 통해 분산원장에 정보를 기록하거나 불러온다
- 거래의 자동화 등 다양한 응용프로그램을 만들 수 있다
- 분산 애플리케이션의 활용

#### 1.3 합의
- PoW(Proof of Work), DPoS(Delegated Proof of Stake) 방식 등이 있음
- 하이퍼레저 패브릭의 합의 과정은, PoW, PoS 혹은 BFT 처럼 특정 알고리즘에 국한되지 않음
#### **하이퍼레저 패브릭의 합의 과정**
- 보증 정책 확인
- 트랜잭션을 정해진 순서에 맞춰 정렬
- 정렬된 트랜잭션의 유효성 검증 후 최신 블록 업데이트
 

## Hyperledger Fabric 

[Doc](https://hyperledger-fabric.readthedocs.io/)


### 1.1 하이퍼레저 프로젝트
- 리눅스에서 개발한 라이퍼레저 프로젝트 (프레임워크, 툴)

#### **하이퍼레저 프레임워크(Frameworks)**
- 하이퍼레저 프레임워크(Frameworks)는 분산원장, 스마트 컨트랙트, 합의 알고리즘 등 블록체인에 대한 원천적인 기술을 개발하는 프로젝트
  - Hyperledger Fabric
  - Hyperledger Sawtooth
  - Hyperledger Iroha
  - Hyperledger Indy
  - Hyperledger Burrow
    
#### **하이퍼레저 툴(Tool)**     
- 블록체인 시스템의 성능 측정, 운영, 개발을 돕는 툴
- - Hyperledger Caliper
  - Hyperledger Cello
  - Hyperledger Composer
  - Hyperledger Explorer
  - Hyperledger Quilt

### 1.2 하이퍼레저 패브릭 개요
- 가장 왕성하게 활동중인 프로젝트
- **허가형 프라이빗 블록체인(Permissioned and Private Blockchain)**
- 퍼블릭 블록체인과 달리 **MSP(Membership Service Provide)**라는 인증관리 시스템에 등록된 사용자만이 참여가능
- 비즈니스 목적에 맞는 형태로 블록체인 플랫폼을 구축
- **채널(Channel)** 개념을 도입하여 프라이버시 문제를 해결
- 모든 사용자가 동일한 원장을 가지고 모든 정보를 공유할 수 있을 뿐만 아니라, 비즈니스에 민감한 내용을 공유하고 싶은 참여자들 간에만 채털을 통해서 별도의 원장을 생성하여 정보 공유 가능
- **원장(Shared Ledger)** 은 월드스테이트와 블록체인의 두 가지 구성요소로 이루어짐
#### **월드 스테이트(World State)**
- 원장의 현재상태
- 은행 잔고로 예를들면, 현재 잔고
  
#### **블록체인(BlockChain)**
- 원장의 전체기록
- 은행을 예로들면 계좌생성부터 현재까지 결제(입출금) 모든 내역

- 스마트 컨트랙트는 **체인코드(ChainCode)** 에 쓰여진다.
- 체인코드는 스마트 컨트랙트와 같이 원장에 데이터를 읽고 쓰기 위해 사용될 수 있다.
- 하이퍼레저 패브릭의 합의 알고리즘은 PBFT나, 비트코인의 PoW 등의 합의 방식과는 달리, 트랜잭션의 생성부터 새로운 블록 생성까지 모든 과정을 통칭해서 합의 과정이라고 한다.

### 1.3 하이퍼레저 패브릭 특징

- **프라이버시와 기밀성**
- **작업 구간별 병렬 처리**
- **체인코드**
- **모듈화된 디자인**

- 채널 개념을 도입하여, 프라이버시와 기밀성 제공
- 트랜잭션의 생성부터 합의 과정까지 단계별로 분리하여 처리 가능
- **실행(Execute)** 단계에서는 트랜잭션을 실행하고 결과값을 검증
- **정렬(Order)** 단계에서는 실행단계에서 검증이 끝난 트랜잭션을 취합하여 순서에 맞게 정렬한 후 블록을 생성하는 작업을 수행
- **검증(Validation)** 단계에서는 블록에 포함된 모든 트랜잭션에 대한 결과값 검증을 수행
- 체인코드는 기존 블록체인의 스마트 컨트랙트와 동일한 기능을 가지고 있으며, Go와 Node.js를 이용해서 다양한 형태의 응용 프로그램으로 개발 될 수 있다.
- 시스템 체인코드는 트랜잭션의 보증, 블록 검증, 채널 설정 등 시스템 레벨에서의 설정이 필요할 때 사용되는 체인코드


### 2.1 하이퍼레저 패브릭 구성요소

### **Peer**
- 하이퍼레저 패브릭 블록체인을 구성하는 네트워크 노드 중 하나
- 분산원장과 스마트컨트랙트를 Peer가 관리하는 역할을 수행
- 하이퍼레저 패브릭 블록체인 참여자는 peer에 설치된 스마트 컨트랙트를 호출하여 분산원장에 저장된 정보에 접근
- peer는 복수 개의 분산원장과 체인코드를 가질 수도 있으며, peer에 저장되고 설치되기 때문에 하이퍼레저 패브릭 참여자는 peer를 통해서만 분산원장과 체인코드에 접근가능


### **Chaincode**
- 블록체인의 핵심은 한 번 기록된 데이터는 위/변조가 불가능한 분산원장에 있음
- 분산원장에 데이터를 기록하거나 읽기 위해 체인코드를 이용
- 비즈니스 모델에 맞는 분산 애플리케이션과 함께 개발되어 사용
- 하이퍼레저 패브릭에서는 **시스템 체인코드**라는 특수한 체인코드를 사용
####  **시스템 체인코드**
- QSCC(Query) - 블록체인의 저장된 데이터를 읽어올 때 사용 / CLI명령어 사용
- ESCC(Endorsment) - 보증정책을 담당
- VSCC(Validation) - 블록을 검증할 때 사용
- CSCC(Configuration) - 채널 설정시 사용되는 시스템 체인코드
- LSCC(Lifecycle)
